import{u as k,e as S,f as i,k as v,g as w,o,c as a,i as e,F as d,l as h,m as D,w as C,h as p,a as f,j as E,n as N}from"./renderer/_default.page.client.ts.fcb57db6.js";const T=f("h2",{class:"page-title"},"Researcher registration",-1),B=f("p",null,"GeoCoLab is designed to improve access to analytical facilities for minority and marginalised scientists. The following questions will be used to ensure that you meet one or more required criteria. The data collected here will additionally be used to evaluate and monitor use of the GeoCoLab app. Data used for this purpose will be anonymised and aggregated data may be shared with third parties (e.g. NERC as project funders) and in publications. Further details on how this data is collected, stored, used and shared is provided in the GeoCoLab terms and conditions.",-1),G={key:0,class:"text-red-500 font-bold text-xl text-center"},K=E(" You have already completed this step. "),L=E(" You do not need to complete this step. "),j=f("p",null,"The following questions will help us understand our users and to evaluate and monitor use of GeoCoLab. Data used for this purpose will be anonymised and aggregated data may be shared with third parties (e.g. NERC as project funders) and in publications.",-1),U={name:"register.page",setup(q){const s=k(),r=S();let b=i([]);const l=i({});let _=i([]);const u=i({}),F=async()=>{r.submitForm("edi",l.value).then(t=>{t.status>=400?b.value=t.data.errors:s.loadUser()})},V=async()=>{r.submitForm("edi_extra",u.value).then(t=>{t.status>=400?_.value=t.data.errors:N("/")})},m=v(()=>s.userData.todo.includes("edi")),g=v(()=>s.userData.todo.includes("edi_extra"));return(t,n)=>{const y=w("FormKitSchema"),x=w("FormKit");return o(),a(d,null,[T,B,!e(m)&&!e(g)?(o(),a("p",G,[e(s).userData.role==="researcher"?(o(),a(d,{key:0},[K],64)):(o(),a(d,{key:1},[L],64))])):h("",!0),e(m)?(o(),D(x,{key:1,type:"form",modelValue:l.value,"onUpdate:modelValue":n[0]||(n[0]=c=>l.value=c),"form-class":"mx-auto long-form","submit-label":"Save & Continue",onSubmit:F,errors:e(b)},{default:C(()=>[p(y,{schema:e(r).forms.edi},null,8,["schema"])]),_:1},8,["modelValue","errors"])):h("",!0),e(g)&&!e(m)?(o(),a(d,{key:2},[j,p(x,{type:"form",modelValue:u.value,"onUpdate:modelValue":n[1]||(n[1]=c=>u.value=c),"form-class":"mx-auto long-form","submit-label":"Submit",onSubmit:V,errors:e(_)},{default:C(()=>[p(y,{schema:e(r).forms.edi_extra},null,8,["schema"])]),_:1},8,["modelValue","errors"])],64)):h("",!0)],64)}}};export{U as default};
