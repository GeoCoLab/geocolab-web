import{q as y,u as w,f as d,g as c,o as b,c as V,h as e,w as n,i as x,F as C,a as l,j as s,s as q,n as f}from"./renderer/_default.page.client.ts.fcb57db6.js";const N={class:"form-row-custom"},k={class:"form-row-inputs"},F=s("Register as manager"),B=s("Register as researcher"),E=s("If you're not sure, register as a researcher."),P=l("div",{class:"text-center mt-8"},[s("Already have an account? "),l("a",{href:"/user/login"},"Log in here"),s(".")],-1),A={name:"register.page",setup(R){y();const p=w();let u=d([]);const a=d({});function _(){}async function m(){return p.register(a).then(r=>r.status>=400?(u.value=r.data.errors,!1):!0)}async function h(){a.value.role="researcher",m().then(r=>{r&&f("/researcher/register")})}async function g(){a.value.role="manager",m().then(r=>{r&&f("/manager/register")})}return(r,o)=>{const t=c("FormKit"),v=c("help");return b(),V(C,null,[e(t,{type:"form",id:"register",modelValue:a.value,"onUpdate:modelValue":o[1]||(o[1]=i=>a.value=i),"form-class":"mx-auto short-form",onSubmit:_,errors:x(u),actions:!1},{default:n(()=>[e(t,{type:"text",name:"email",label:"Email",validation:"required"}),e(t,{type:"password",name:"password",label:"Password",validation:"required"}),e(t,{type:"password",name:"password_confirm",label:"Confirm Password",validation:"required|confirm","validation-label":"Password"}),e(t,{type:"text",name:"name",label:"Name",validation:"required"}),e(q,{name:"country",label:"Country",modelValue:a.value.country,"onUpdate:modelValue":o[0]||(o[0]=i=>a.value.country=i)},null,8,["modelValue"]),l("div",N,[l("div",k,[e(t,{type:"submit",onClick:g},{default:n(()=>[F]),_:1}),e(t,{type:"submit",onClick:h},{default:n(()=>[B]),_:1})]),e(v,null,{default:n(()=>[E]),_:1})])]),_:1},8,["modelValue","errors"]),P],64)}}};export{A as default};
